<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CREADORA MALE</title>

<style>
/* BASE */
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    background:#eaf6ff;
}

/* HEADER */
.header{
    position:relative;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:35px 15px;
}

/* LOGO */
.logo{
    position:absolute;
    top:15px;
    left:15px;
    width:120px;     /* COMO EN LA IMAGEN */
    height:120px;
    object-fit:cover;
    border-radius:50%;
    box-shadow:0 4px 10px rgba(0,0,0,0.15);
    background:white;
}

/* TITULO */
.header h1{
    margin:0;
    margin-left:60px;   /* MÁS A LA DERECHA */
    font-size:26px;
    letter-spacing:1.5px;
    background:linear-gradient(90deg,#9bbcff,#c7b3ff);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    font-weight:700;
    text-align:center;
}

/* MES */
.mes-container{
    display:flex;
    justify-content:center;
    margin:10px 0 20px;
    margin-left:60px;   /* MÁS A LA DERECHA */
}

.mes-container input{
    width:200px;
    padding:8px;
    border-radius:10px;
    border:1px solid #b9caff;
    text-align:center;
    background:white;
    font-weight:600;
}

/* CALENDARIO */
.calendar{
    display:grid;
    grid-template-columns:1fr;
    gap:12px;
    padding:12px;
}

.day{
    background:white;
    border-radius:16px;
    padding:10px;
    box-shadow:0 4px 10px rgba(0,0,0,0.08);
    font-size:13px;
}

.day-header{
    font-weight:700;
    margin-bottom:6px;
    color:#8fa8ff;
}

input{
    width:100%;
    margin-bottom:6px;
    padding:6px;
    border-radius:8px;
    border:1px solid #c7b3ff;
}

button{
    width:100%;
    padding:6px;
    border:none;
    border-radius:8px;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    margin-bottom:6px;
}

.btn-add{
    background:linear-gradient(90deg,#9bbcff,#c7b3ff);
    color:white;
}

.venta-item{
    background:#eef1ff;
    padding:6px;
    border-radius:8px;
    margin-bottom:6px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:12px;
}

.btn-delete{
    background:#a88bff;
    color:white;
    border:none;
    padding:2px 8px;
    border-radius:6px;
    cursor:pointer;
    font-size:11px;
}

.total-dia{
    font-weight:700;
    margin-top:6px;
}

.total-mes{
    margin:15px;
    text-align:center;
    font-size:18px;
    font-weight:700;
    background:#dfe9ff;
    padding:14px;
    border-radius:16px;
}

/* RESPONSIVE */
@media(min-width:600px){
    .calendar{ grid-template-columns:repeat(2,1fr); }
}
@media(min-width:1024px){
    .calendar{ grid-template-columns:repeat(7,1fr); }
}
</style>
</head>
<body>

<div class="header">
    <img src="02.14.00.jpeg" class="logo">
    <h1>CREADORA MALE</h1>
</div>

<div class="mes-container">
    <input type="month" id="mesSelector">
</div>

<div class="calendar" id="calendar"></div>

<div class="total-mes">
    Total del Mes: $ <span id="totalMes">0</span>
</div>

<script>
const calendar=document.getElementById("calendar");
const mesSelector=document.getElementById("mesSelector");
let datos=JSON.parse(localStorage.getItem("ventasEstrellitas"))||{};
const diasNombre=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];

function iniciar(){
    const hoy=new Date();
    mesSelector.value=hoy.toISOString().slice(0,7);
    crearCalendario();
}
mesSelector.addEventListener("change",crearCalendario);

function crearCalendario(){
    calendar.innerHTML="";
    const mes=mesSelector.value;
    if(!mes) return;

    const [year,month]=mes.split("-");
    const diasMes=new Date(year,month,0).getDate();
    let totalMes=0;

    for(let dia=1;dia<=diasMes;dia++){
        const fecha=new Date(year,month-1,dia);
        const clave=fecha.toISOString().split("T")[0];
        const nombreDia=diasNombre[fecha.getDay()];
        if(!datos[clave]) datos[clave]=[];

        let totalDia=datos[clave].reduce((s,v)=>s+Number(v.importe),0);
        totalMes+=totalDia;

        calendar.innerHTML+=`
        <div class="day">
            <div class="day-header">${nombreDia} ${dia}</div>
            <input type="text" id="nombre-${clave}" placeholder="Nombre cliente">
            <input type="number" id="importe-${clave}" placeholder="Importe">
            <button class="btn-add" onclick="agregarVenta('${clave}')">Agregar</button>
            ${datos[clave].map((v,i)=>`
            <div class="venta-item">
                ${v.nombre} - $${v.importe}
                <button class="btn-delete" onclick="borrarVenta('${clave}',${i})">X</button>
            </div>`).join("")}
            <div class="total-dia">Total Día: $${totalDia}</div>
        </div>`;
    }
    document.getElementById("totalMes").innerText=totalMes;
    localStorage.setItem("ventasEstrellitas",JSON.stringify(datos));
}

function agregarVenta(clave){
    const n=document.getElementById("nombre-"+clave).value;
    const i=document.getElementById("importe-"+clave).value;
    if(!n||!i) return;
    datos[clave].push({nombre:n,importe:i});
    crearCalendario();
}
function borrarVenta(clave,index){
    datos[clave].splice(index,1);
    crearCalendario();
}
iniciar();
</script>

</body>
</html>
